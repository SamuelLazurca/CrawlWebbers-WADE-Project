@prefix davi-mov:  <https://purl.org/davi/vocab/movielens#> .
@prefix davi-meta: <https://purl.org/davi/vocab/meta#> .
@prefix owl:       <http://www.w3.org/2002/07/owl#> .
@prefix rdf:       <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:      <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:       <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms:   <http://purl.org/dc/terms/> .
@prefix schema:    <http://schema.org/> .

# --- ONTOLOGY METADATA ---
davi-mov:MovieLensOntology a owl:Ontology ;
    rdfs:label "DaVi MovieLens Extensions"@en ;
    dcterms:description "Ontology for MovieLens 20M Dataset extensions (Genome & Tagging), tagged for DaVi's dynamic visualization engine."@en ;
    owl:imports <http://schema.org/> .

schema:Movie a owl:Class ;
    rdfs:label "Movie"@en .

schema:Rating a owl:Class ;
    rdfs:label "Rating Action"@en .

schema:Person a owl:Class ;
    rdfs:label "User / Person"@en .

# --- Properties for Dynamic Visualization (The LEGO Blocks) ---

# GENRE: The primary "Dimension" for MovieLens.
# This tells the frontend: "You can Group By Genre."
schema:genre 
    a owl:DatatypeProperty ;
    davi-meta:isDimension "true"^^xsd:boolean ;
    davi-meta:uiLabel "Movie Genre" .

# RATING VALUE: The primary "Metric" for aggregation.
# This tells the frontend: "You can Calculate Average/Max Rating."
schema:ratingValue
    a owl:DatatypeProperty ;
    davi-meta:isMetric "true"^^xsd:boolean ;
    davi-meta:uiLabel "User Rating (0.5 - 5.0)" .

# DATE: A Time Dimension.
# This tells the frontend: "You can use this for Time Series trends."
schema:datePublished
    a owl:DatatypeProperty ;
    davi-meta:isDimension "true"^^xsd:boolean ;
    davi-meta:uiLabel "Date/Timestamp" .

# Reified Class for Tagging (User <-> Movie)
davi-mov:TagApplication a owl:Class ;
    rdfs:label "Tag Application"@en ;
    rdfs:subClassOf schema:CreateAction ;
    dcterms:description "An event where a user applies a free-text tag to a movie"@en .

# Genome Tag Definition (Specific to MovieLens Project)
davi-mov:GenomeTag a owl:Class ;
    rdfs:label "Genome Tag"@en ;
    dcterms:description "A controlled vocabulary tag from the Tag Genome"@en .

# Reified Class for Genome Relevance (Movie <-> GenomeTag)
davi-mov:GenomeRelevance a owl:Class ;
    rdfs:label "Genome Relevance Prediction"@en ;
    dcterms:description "The calculated relevance of a Genome Tag to a specific Movie"@en .


# --- Tagging Properties ---

davi-mov:tagContent a owl:DatatypeProperty ;
    rdfs:label "Tag Text"@en ;
    rdfs:domain davi-mov:TagApplication ;
    rdfs:range xsd:string ;
    # We tag this as a Dimension so users can see "Top 10 most common tags"
    davi-meta:isDimension "true"^^xsd:boolean ;
    davi-meta:uiLabel "User Tag Text" .

davi-mov:taggedBy a owl:ObjectProperty ;
    rdfs:subPropertyOf schema:agent ;
    rdfs:domain davi-mov:TagApplication ;
    rdfs:range schema:Person .

davi-mov:tagsMovie a owl:ObjectProperty ;
    rdfs:subPropertyOf schema:object ;
    rdfs:domain davi-mov:TagApplication ;
    rdfs:range schema:Movie .

# --- Genome Relevance Properties ---

davi-mov:isRelevantTo a owl:ObjectProperty ;
    rdfs:label "is relevant to"@en ;
    rdfs:domain davi-mov:GenomeRelevance ;
    rdfs:range schema:Movie .

davi-mov:hasGenomeTag a owl:ObjectProperty ;
    rdfs:label "has genome tag"@en ;
    rdfs:domain davi-mov:GenomeRelevance ;
    rdfs:range davi-mov:GenomeTag .

# RELEVANCE SCORE: A Critical Metric for this dataset.
# Allows users to analyze "Strength of Tag Association".
davi-mov:relevanceScore a owl:DatatypeProperty ;
    rdfs:label "relevance score"@en ;
    rdfs:domain davi-mov:GenomeRelevance ;
    rdfs:range xsd:decimal ;
    davi-meta:isMetric "true"^^xsd:boolean ;
    davi-meta:uiLabel "Genome Relevance Score (0-1)" .
